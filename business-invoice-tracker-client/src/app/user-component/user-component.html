<div class="container">
  <h1>{{ title }}</h1>

  @if (errorMessage) {
    <div class="alert alert-danger">
      {{ errorMessage }}
    </div>
  }

  <div class="section">
    <h2>Create User Profile</h2>
    <div class="form-group">
      <label>Name:</label>
      <input type="text" [(ngModel)]="profileData.name" class="form-control">
    </div>
    <div class="form-group">
      <label>Email:</label>
      <input type="email" [(ngModel)]="profileData.email" class="form-control">
    </div>
    <div class="form-group">
      <label>Password:</label>
      <input type="password" [(ngModel)]="profileData.userpassword" class="form-control">
    </div>
    <button (click)="onCreateProfile()" class="btn btn-primary">Create Profile</button>

    @if (createdProfile) {
      <div class="result">
        <h3>Profile Created Successfully!</h3>
        <p>ID: {{ createdProfile.id }}</p>
        <p>Name: {{ createdProfile.name }}</p>
        <p>Email: {{ createdProfile.email }}</p>
      </div>
    }
  </div>

  <div class="section">
    <h2>User Login</h2>
    <div class="form-group">
      <label>Email:</label>
      <input type="email" [(ngModel)]="loginData.email" class="form-control">
    </div>
    <div class="form-group">
      <label>Password:</label>
      <input type="password" [(ngModel)]="loginData.userpassword" class="form-control">
    </div>
    <button (click)="onLogin()" class="btn btn-secondary">Login</button>

    @if (loginResult) {
      <div class="result">
        <h3>Login Result:</h3>
        <p>Success: {{ loginResult.success ? 'Yes' : 'No' }}</p>
      </div>
    }
  </div>

  <!-- Get Profile Section -->
  <div class="section">
    <h2>Get User Profile</h2>
    <div class="form-group">
      <label>User ID:</label>
      <input type="number" [(ngModel)]="userIdToFetch" class="form-control">
    </div>
    <button (click)="onGetProfile()" class="btn btn-info">Get Profile</button>

    @if (fetchedProfile) {
      <div class="result">
        <h3>User Profile:</h3>
        <p>ID: {{ fetchedProfile.id }}</p>
        <p>Name: {{ fetchedProfile.name }}</p>
        <p>Email: {{ fetchedProfile.email }}</p>
      </div>
    }
  </div>

  <!-- Reset Button -->
  <button (click)="resetForms()" class="btn btn-warning">Reset All</button>
</div>
