<div class="container">
  <h1>{{ title }}</h1>

  @if (errorMessage) {
    <div class="alert alert-danger">
      {{ errorMessage }}
    </div>
  }

  <div class="section">
    <h2>Create User Profile</h2>
    <div class="form-group">
      <label>Name:</label>
      <input type="text" [(ngModel)]="profileData.username" class="form-control">
    </div>
    <div class="form-group">
      <label>Email:</label>
      <input type="email" [(ngModel)]="profileData.email" class="form-control">
    </div>
    <div class="section">
      @if (passwordMessage) {
        <div class="password-message">
          {{ passwordMessage }}
        </div>
      }
      <div class="form-group">
        <label>Password:</label>
        <input type="password" [(ngModel)]="profileData.userpassword" class="form-control">
      </div>
      <div class="form-group">
        <label>Repeat password:</label>
        <input type="password" [(ngModel)]="password2" class="form-control">
      </div>
    </div>
    <button (click)="onCreateProfile()" class="btn btn-primary">Create Profile</button>

    @if (createdProfile) {
      <div class="result">
        <h3>Profile Created Successfully!</h3>
        <p>ID: {{ createdProfile.data.at(0)?.id }}</p>
        <p>Name: {{ createdProfile.data.at(0)?.username }}</p>
        <p>Email: {{ createdProfile.data.at(0)?.email }}</p>
      </div>
    }
  </div>
  <button (click)="resetForms()" class="btn btn-warning">Reset All</button>
</div>

